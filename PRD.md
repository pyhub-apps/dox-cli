
# 제품 요구사항 문서 (PRD): pyhub-documents-cli

## 1. 개요 (Overview)

### 1.1. 프로젝트 명
`pyhub-documents-cli`

### 1.2. 프로젝트 요약
GoLang으로 개발된 **문서 자동화 및 AI 기반 콘텐츠 생성 CLI(Command-Line Interface) 애플리케이션**. 개발자, 콘텐츠 제작자, 사무직 종사자가 반복적인 문서 편집 작업을 자동화하고, OpenAI의 능력을 활용하여 문서 초안 작성, 요약 등의 작업을 명령행에서 직접 수행할 수 있도록 지원한다.

### 1.3. 해결하고자 하는 문제 (Problem)
*   **반복적인 문서 작업:** 여러 문서(PPT, Word 등)에 걸쳐 특정 단어(예: 회사명, 프로젝트명, 버전)를 일괄적으로 변경하는 작업은 번거롭고 실수가 발생하기 쉽다.
*   **콘텐츠 생성의 초기 장벽:** 아이디어를 문서 초안으로 만들거나, 긴 문서를 요약하는 등의 작업에 많은 노력이 필요하다.
*   **분리된 워크플로우:** 문서 편집과 AI 기반 콘텐츠 생성이 별개의 도구(MS Office, 웹 브라우저 등)에서 이루어져 작업 흐름이 비효율적이다.

## 2. 목표 (Goals)

*   **생산성 향상:** CLI를 통해 단순/반복적인 문서 편집 작업을 스크립트로 자동화하여 사용자의 시간을 절약한다.
*   **워크플로우 간소화:** OpenAI의 생성 기능을 문서 처리 파이프라인에 직접 통합하여, 아이디어 구상부터 초안 작성까지의 과정을 단축시킨다.
*   **확장성 제공:** 핵심 기능을 Go 라이브러리로 제공하여, 다른 개발자들이 자신의 애플리케이션에 문서 처리 및 AI 기능을 쉽게 통합할 수 있도록 한다.

## 3. 사용자 페르소나 및 시나리오 (User Personas & Scenarios)

### 3.1. 페르소나 1: 백엔드 개발자, 박준형
*   **역할:** 3년 차 백엔드 개발자. 릴리즈 프로세스 자동화에 관심이 많음.
*   **목표:** 매주 진행되는 서비스 업데이트 시, 수동으로 문서(릴리즈 노트, 기술 가이드 등)의 버전 정보나 특정 용어를 변경하는 작업을 없애고 싶다.
*   **문제점:** "릴리즈할 때마다 PPT, Word로 된 가이드 문서 5개를 열어서 `v1.2.0`을 `v1.3.0`으로 바꾸는 일을 하는데, 깜빡 잊거나 오타를 내서 실수가 발생한다. 너무 귀찮고 비효율적이다."

### 3.2. 페르소나 2: 콘텐츠 마케터, 최서아
*   **역할:** IT 스타트업의 콘텐츠 마케터. 블로그 글, 보도자료 등을 기획하고 작성.
*   **목표:** 아이디어를 빠르게 콘텐츠 초안으로 만들고, '빈 페이지' 앞에서 글을 시작하는 부담을 줄이고 싶다.
*   **문제점:** "새 기능에 대한 블로그 글을 쓸 때, 매번 ChatGPT 웹사이트에 가서 프롬프트를 입력하고 결과를 복사해서 Word에 붙여넣는 과정이 번거롭다. 터미널에서 바로 만들 수 있으면 좋겠다."

### 3.3. 페르소나 3: 공무원, 김민준 주무관
*   **역할:** 서울시청 6급 공무원. 각종 정책 보고서 및 내부 회의 자료 작성.
*   **목표:** 정형화된 보고서와 발표 자료를 빠르고 효율적으로 작성하여 내용에 집중하고 싶다.
*   **문제점:** "새로운 보고서를 작성할 때마다 HWP를 열어 기관명, 부서, 작성자 등을 일일이 입력하고 정해진 목차를 복사/붙여넣기 해야 한다. 간단한 개요만 마크다운으로 작성한 뒤, 명령 한 줄로 정식 보고서 템플릿에 맞춰 생성할 수 있다면 야근을 줄일 수 있을 텐데..."

### 3.4. 주요 사용 시나리오 (Key Scenarios)
*   **시나리오 1: 문서 일괄 업데이트 (박준형)**
    *   릴리즈 스크립트의 일부로 `pyhub-documents-cli replace --rules vars.yml --path ./docs` 명령을 실행하여 `./docs` 폴더 내 모든 Word/PPT 문서의 버전 정보를 한 번에 업데이트한다.
*   **시나리오 2: 주간 업무 보고서 생성 (김민준 주무관)**
    *   한 주간의 업무 내용을 `report.md` 파일에 마크다운으로 정리한다.
    *   `pyhub-documents-cli create --from report.md --template "보고서_서식.docx" --output "금주_보고서.docx"` 명령으로, 기존 서식은 유지되고 내용만 채워진 Word 보고서를 생성한다.

## 4. 핵심 기능 요구사항 (Features & Requirements)

### 4.1. Feature 1: 문서 변환 및 생성 (Document Conversion & Creation)
*   **REQ 1-1: 마크다운(MD) to 오피스 문서 변환:** 사용자가 제공한 마크다운(.md) 파일을 파싱하여 새로운 오피스 문서를 생성한다.
    *   **초기 버전(MVP) 지원 포맷:** Microsoft Word (`.docx`), Microsoft PowerPoint (`.pptx`)
*   **REQ 1-2: 템플릿 기반 문서 생성:** 사용자가 `--template` 옵션으로 기존 문서 파일을 지정하면, 템플릿의 스타일과 서식은 유지한 채 본문 내용만 마크다운 콘텐츠로 채워서 새로운 문서를 생성한다.

### 4.2. Feature 2: 문서 내용 일괄 치환 (Bulk Content Replacement)
*   **REQ 2-1: 치환 규칙 파일 지원:** `--rules` 옵션을 통해 치환 규칙이 정의된 파일을 입력받는다.
    *   **초기 버전(MVP) 지원 포맷:** **YAML**. 사용자가 읽고 쓰기 쉬운 포맷을 우선 지원한다.
    ```yaml
    # vars.yml 예시
    - old: "프로젝트-알파"
      new: "정식 서비스-베타"
    - old: "v1.2.0"
      new: "v1.3.0"
    ```
*   **REQ 2-2: 대상 문서 지정:** 치환을 적용할 특정 파일 또는 폴더를 지정할 수 있다. 폴더 지정 시 하위의 모든 지원 문서를 대상으로 재귀적으로 작업을 수행한다.

### 4.3. Feature 3: AI 기반 콘텐츠 생성 (AI-Powered Content Generation)
*   **REQ 3-1: OpenAI 연동:** 환경 변수(`OPENAI_API_KEY`) 또는 CLI 옵션을 통해 사용자의 OpenAI API 키를 설정할 수 있다.
*   **REQ 3-2: 콘텐츠 생성 기능:** `generate` 명령어를 통해 다양한 유형(블로그 초안, 보고서 개요 등)의 콘텐츠를 생성하고 파일로 저장할 수 있다.

### 4.4. 공통 요구사항 (Common Requirements)
*   **REQ 4-1: Go 라이브러리 제공:** 핵심 기능은 재사용 가능한 Go 모듈/패키지로 구현되어, 다른 Go 애플리케이션에서 임포트하여 사용할 수 있어야 한다.
*   **REQ 4-2: 명확한 CLI 인터페이스:** 직관적인 명령어(`create`, `replace`, `generate`)와 옵션을 제공하며, `--help` 플래그를 통해 상세한 사용법을 안내한다.

## 5. 개발 우선순위 및 로드맵 (Development Priority & Roadmap)

### Phase 1 (MVP): 핵심 기능 구현
1.  **문서 내용 일괄 치환 (Feature 2):** Word, PPT 내 텍스트 치환 기능. YAML 규칙 파일 지원.
2.  **문서 변환 및 생성 (Feature 1):** 마크다운 to Word/PPT 변환 기능. 템플릿 기반 생성 지원.
3.  **기본 CLI 구조 및 배포:** Windows용 단일 exe 파일 빌드 및 배포 자동화.

### Phase 2: AI 기능 및 확장
1.  **AI 기반 콘텐츠 생성 (Feature 3):** OpenAI API 연동 및 콘텐츠 생성 기능 구현.
2.  **지원 포맷 확장:** HWP 문서 지원 여부 기술 검토(R&D) 및 구현.

### Phase 3: 플랫폼 확장 및 고도화
1.  **크로스 플랫폼 지원:** macOS, Linux 지원 추가.
2.  **라이브러리 안정화:** Go 라이브러리 API 문서화 및 예제 제공.

## 6. 기술 스택 및 제약사항 (Tech Stack & Constraints)

### 6.1. 프로그래밍 언어 및 프레임워크
*   **언어:** Go (Golang)
*   **CLI 라이브러리:** Cobra 또는 urfave/cli

### 6.2. 핵심 의존성 (라이브러리)
*   **정책:** **오픈소스 라이선스(MIT, Apache 2.0 등)를 가진 라이브러리만 사용한다.**
*   **Word (.docx) 처리:** `nguyenthenguyen/docx`, `baliance/gooxml` 등 검토.
*   **PowerPoint (.pptx) 처리:** `officenum/go-prezi` 등 검토.
*   **Markdown 파싱:** `goldmark` 또는 `gomarkdown/markdown`
*   **YAML 파싱:** `gopkg.in/yaml.v3`

### 6.3. 타겟 플랫폼 및 배포
*   **초기 타겟 플랫폼:** **Windows (amd64)**
*   **배포 형태:** 의존성 없는 **단일 실행 파일 (.exe)**

### 6.4. 주요 제약사항 및 해결 과제
*   **안티 바이러스(AV) 오탐 문제:**
    *   **대응 방안:** 빌드 옵션 조정(`-ldflags="-s -w"`), UPX 패킹 지양, 오탐 발생 시 AV 벤더에 화이트리스트 요청.
    *   **코드 사이닝:** 초기 버전에서는 비용 문제로 고려하지 않는다.
*   **오픈소스 라이브러리 기능 제약:**
    *   선택한 오픈소스 라이브러리가 복잡한 서식이나 객체(표, 도형 등)를 완벽하게 처리하지 못할 수 있다. MVP에서는 **'텍스트' 중심의 처리**에 집중하고, 지원 범위를 명확히 한다.

## 7. 성공 지표 (Success Metrics)

*   **다운로드 수:** GitHub Releases에서의 주간/월간 다운로드 횟수.
*   **사용자 피드백:** GitHub Issues를 통한 버그 리포트, 기능 제안의 활성도.
*   **커뮤니티 활성도:** GitHub Star, Fork 수.
*   **내부 도입 사례:** `pyhub` 조직 내 다른 프로젝트의 자동화 파이프라인에 적용되는 사례 수.

## 8. 고려되지 않는 사항 (Non-Goals / Out of Scope)

*   **GUI 제공:** 순수한 CLI 애플리케이션이며, 그래픽 사용자 인터페이스(GUI)는 제공하지 않는다.
*   **실시간 협업 및 편집 기능:** WYSIWYG 문서 편집 기능을 제공하지 않는다.
*   **HWP 포맷 지원 (MVP 단계):** 초기 버전에서는 HWP/HWPX 파일 포맷을 지원하지 않는다.
*   **이미지, 차트 등 복잡한 객체 처리:** MVP 단계에서는 텍스트 중심의 처리에 집중하며, 이미지나 차트 같은 복잡한 객체를 직접 생성/수정하는 기능은 포함하지 않는다.

